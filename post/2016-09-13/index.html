<!DOCTYPE html>
<html lang="zh-hant">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Swift 快速筆記 - Denny&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Denny Cheng" />
  <meta name="description" content="AutoLayout 只要確定好下面的參數，autoLayout就不會跑警告 x y width height AlertController 新增AlertController .ActionSheet可藉由點警告視窗" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.36" />


<link rel="canonical" href="https://cdfq152313.github.io/post/2016-09-13/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.0.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Swift 快速筆記" />
<meta property="og:description" content="AutoLayout 只要確定好下面的參數，autoLayout就不會跑警告 x y width height AlertController 新增AlertController .ActionSheet可藉由點警告視窗" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cdfq152313.github.io/post/2016-09-13/" />



<meta property="article:published_time" content="2016-09-13T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2016-09-13T00:00:00&#43;00:00"/>











<meta itemprop="name" content="Swift 快速筆記">
<meta itemprop="description" content="AutoLayout 只要確定好下面的參數，autoLayout就不會跑警告 x y width height AlertController 新增AlertController .ActionSheet可藉由點警告視窗">


<meta itemprop="datePublished" content="2016-09-13T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2016-09-13T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1885">



<meta itemprop="keywords" content="ios,swift," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Swift 快速筆記"/>
<meta name="twitter:description" content="AutoLayout 只要確定好下面的參數，autoLayout就不會跑警告 x y width height AlertController 新增AlertController .ActionSheet可藉由點警告視窗"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Denny&#39;s blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/categories/notes">
        <li class="mobile-menu-item">程式筆記</li>
      </a><a href="/categories/miscs">
        <li class="mobile-menu-item">心得雜記</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Denny&#39;s blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/notes">程式筆記</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/miscs">心得雜記</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Swift 快速筆記</h1>

      <div class="post-meta">
        <span class="post-time"> 2016-09-13 </span>
        <div class="post-category">
            
              <a href="/categories/notes/"> notes </a>
            
          </div>
        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#autolayout">AutoLayout</a></li>
<li><a href="#alertcontroller">AlertController</a></li>
<li><a href="#讓鍵盤自動彈出">讓鍵盤自動彈出</a></li>
<li><a href="#pickerview">PickerView</a>
<ul>
<li><a href="#選中某一列後立刻執行某動作">選中某一列後立刻執行某動作</a></li>
<li><a href="#得知目前是選中哪一列">得知目前是選中哪一列</a></li>
<li><a href="#更為簡單的datepickerview">更為簡單的DatePickerView</a></li>
</ul></li>
<li><a href="#播放影片">播放影片</a>
<ul>
<li><a href="#流程">流程</a></li>
<li><a href="#重複播放">重複播放</a></li>
</ul></li>
<li><a href="#錄影">錄影</a></li>
<li><a href="#照相">照相</a>
<ul>
<li><a href="#其他實用方法">其他實用方法</a></li>
</ul></li>
<li><a href="#使用資源">使用資源</a></li>
<li><a href="#存資料-物件">存資料(物件)</a></li>
<li><a href="#property-list-plist">Property List (Plist)</a></li>
<li><a href="#activity-indicator">Activity Indicator</a></li>
<li><a href="#cocoapods">COCOAPODS</a></li>
<li><a href="#reachability-測試有無連網">Reachability 測試有無連網</a></li>
<li><a href="#xml">XML</a></li>
<li><a href="#值得用的app">值得用的APP</a></li>
<li><a href="#登入與非登入狀態用不同的controller">登入與非登入狀態用不同的Controller</a></li>
</ul></li>
<li><a href="#keyboard">keyboard</a>
<ul>
<li><a href="#彈出來時畫面自動向上">彈出來時畫面自動向上</a></li>
<li><a href="#點旁邊畫面自動縮回去">點旁邊畫面自動縮回去</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h2 id="autolayout">AutoLayout</h2>

<p>只要確定好下面的參數，autoLayout就不會跑警告</p>

<ol>
<li>x</li>
<li>y</li>
<li>width</li>
<li>height</li>
</ol>

<h2 id="alertcontroller">AlertController</h2>

<ol>
<li>新增AlertController

<ul>
<li>.ActionSheet可藉由點警告視窗外面而取消</li>
<li>.alert不可藉由點警告視窗外面而取消</li>
</ul></li>
<li>如果需要&rdquo;OK&rdquo;等選項的話，新增UIAction (.alert必做，不然會回不去)</li>
<li>將UIAction放置到AlertController上</li>
<li>present</li>
</ol>

<pre><code class="language-swift">let myAlert = UIAlertController(title: &quot;Please enter something&quot;, message: nil, preferredStyle: .alert)
let myAction = UIAlertAction(title: &quot;OK&quot;, style: .default, handler:nil)
myAlert.addAction(myAction)
present(myAlert, animated: true, completion: nil)
</code></pre>

<p>嘗試加入文字框</p>

<pre><code class="language-swift">let myAlert = UIAlertController(title: &quot;Add New Task&quot;, message: nil, preferredStyle: .alert)
myAlert.addTextField {
  (textfield:UITextField) in
  textfield.placeholder = &quot;Add New Task'&quot;
}
</code></pre>

<p>嘗試對加入的UIAction執行一些動作</p>

<pre><code class="language-swift">let ok = UIAlertAction(title: &quot;OK&quot;, style: .default){
	(action) in
  // action是UIAlertAction
  // 在下面填入想要執行的動作
  ...
  ...
}
</code></pre>

<h2 id="讓鍵盤自動彈出">讓鍵盤自動彈出</h2>

<p>在可輸入的View中(Ex: textfield)，會有<code>becomeFirstResponder()</code>方法</p>

<h2 id="pickerview">PickerView</h2>

<h3 id="選中某一列後立刻執行某動作">選中某一列後立刻執行某動作</h3>

<p>複寫</p>

<pre><code class="language-swift">func pickerView(_ pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int) {
	chooseColor = colorArray[row]
}
</code></pre>

<h3 id="得知目前是選中哪一列">得知目前是選中哪一列</h3>

<p>call function，並指定是哪個Component</p>

<pre><code class="language-swift">myPickerView.selectedRow(inComponent: 0)
</code></pre>

<h3 id="更為簡單的datepickerview">更為簡單的DatePickerView</h3>

<p>若想得知DatePickerView所擷取到的日期或時間只要使用</p>

<pre><code class="language-swift">let date = myDatePicker.date
</code></pre>

<p>一行即可，其他的都是date格式的問題。<br />
DatePickerView的樣式可以從storyBoard中選擇。</p>

<h2 id="播放影片">播放影片</h2>

<h3 id="流程">流程</h3>

<ol>
<li>找到播放影片URL</li>
<li>初始化AVPlayer(將URL放進去)</li>
<li>初始化AVPlayerViewController</li>
<li>將AVPlayerController的player設成剛剛的AVPlayer</li>
<li>present並播放</li>
</ol>

<pre><code class="language-swift">guard let path = Bundle.main.url(forResource: &quot;HipHop&quot;, withExtension: &quot;mp4&quot;) else {
	return
}

let videoPlayer = AVPlayer(url: path)
let videoPlayerController = AVPlayerViewController()
videoPlayerController.player = videoPlayer
present(videoPlayerController, animated: true, completion: nil)
videoPlayer.play()
</code></pre>

<h3 id="重複播放">重複播放</h3>

<p>不同於播放音樂可以簡單設置loop，重複播放影片是要傾聽影片播完後所發送的notification。</p>

<p>監聽播放完成notification</p>

<pre><code class="language-swift">NotificationCenter.default.addObserver(self, selector: #selector(ViewController.playerDidReachEnd(notification:)), name: Notification.Name.AVPlayerItemDidPlayToEndTime, object: nil)

// 監聽function
func playerDidReachEnd(notification:Notification){
    videoPlayer?.currentItem?.seek(to: kCMTimeZero)
    videoPlayer?.play()
}
</code></pre>

<h2 id="錄影">錄影</h2>

<h2 id="照相">照相</h2>

<ol>
<li>在info.plist設定照相權限</li>
<li>產生image picker Controller</li>
<li>設定 sourceType</li>
<li>設定delegate屬性，決定照相完畢後要做什麼</li>
<li>推出image Picker</li>
</ol>

<p>這邊要特別注意，模擬器是沒有camera的，所以若要用模擬器最好先檢查。</p>

<p>照相權限</p>

<p><img src="http://i.imgur.com/Yf8lCmd.png" alt="照相權限" /></p>

<pre><code class="language-swift">let imagePicker = UIImagePickerController()
imagePicker.sourceType = .camera
imagePicker.delegate = self
present(imagePicker, animated:true, completion:nil)
</code></pre>

<p>delegate寫法</p>

<pre><code class="language-swift">func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) {
  guard let image = info[UIImagePickerControllerMediaURL] as? UIImage{
    print(&quot;Cannot get picture url&quot;)
    return
  }
  myImageView.image = image
  dismiss(animated: true, completion: nil)
}
</code></pre>

<h3 id="其他實用方法">其他實用方法</h3>

<p>若想存檔可使用下方程式碼</p>

<pre><code>UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil)
</code></pre>

<p>若想直接從已拍照圖庫裡面選擇圖片，可以透過更改sourcetype來完成</p>

<pre><code>imagePicker.sourceType = .photoLibrary
</code></pre>

<h2 id="使用資源">使用資源</h2>

<ul>
<li>先找路徑再找URL</li>
</ul>

<pre><code class="language-swift">let path = Bundle.main.path(forResource: &quot;Right&quot;, ofType:&quot;mp3&quot;)
let audioURL = URL(fileURLWithPath: path)
</code></pre>

<ul>
<li>直接找URL</li>
</ul>

<pre><code class="language-swift">let path = Bundle.main.url(forResource: &quot;HipHop&quot;, withExtension: &quot;mp4&quot;)
</code></pre>

<h2 id="存資料-物件">存資料(物件)</h2>

<p>使用UserDefaults.standard.set和UserDefaults.standard.synchronize</p>

<ol>
<li>用set並給一個key</li>
<li>synchronize</li>
</ol>

<pre><code class="language-swift">var toDo = [&quot;Buy milk&quot;, &quot;iOS exam&quot;, &quot;Sleep&quot;, &quot;Make money&quot;]
UserDefaults.standard.set(toDo, forKey:&quot;todo&quot;)
UserDefaults.standard.synchronize()
</code></pre>

<p>取值，要記得取出來是anyObject，必須轉型，而且可能為nil(key不存在)。</p>

<pre><code class="language-swift">guard let loaded = UserDefaults.standard.object(forKey: &quot;toDo&quot;) as? [String] else{
  print(&quot;No such key&quot;)
  return
}
print(loaded)
</code></pre>

<p>如果存的是預設型別(像是Int)，取值方法可以不用轉型</p>

<pre><code class="language-swift">guard let loaded = UserDefaults.standard.integer(forKey: &quot;toDo&quot;) else{
  print(&quot;No such key&quot;)
  return
}
print(loaded)
</code></pre>

<h2 id="property-list-plist">Property List (Plist)</h2>

<p>Info.plist就是一種Property List的檔案。<br />
plist可以很方便地幫你用Array或dictionary的形式存取資訊(String, Int &hellip;)，個人覺得跟json沒兩樣。<br />
使用的步驟如下</p>

<ol>
<li>新增一個Property List檔案</li>
<li>在上面加上一些資訊(假設是一串Array)</li>
<li>使用Bundle.main.path拿到資源(檔案型態是plist)</li>
<li>利用NSArray將檔案轉成Array，或是NSDictionary檔案轉成dict</li>
</ol>

<pre><code class="language-swift">guard let scorePlist = Bundle.main.path(forResource: &quot;Score&quot;, ofType: &quot;plist&quot;),
  let scoreArray = NSArray(contentsOfFile: scorePlist) else{
    print(&quot;Get Plist Error&quot;)
    return
}
print(scoreArray)
</code></pre>

<h2 id="activity-indicator">Activity Indicator</h2>

<ul>
<li>用StoryBoard直接拉</li>
<li>記得把Hides when stop打勾，不然圖案一直都在</li>
<li>startAnimating()開始轉</li>
<li>stopAnimationg()停止轉</li>
</ul>

<h2 id="cocoapods">COCOAPODS</h2>

<p>先安裝 <a href="https://cocoapods.org/">https://cocoapods.org/</a></p>

<p>在Xcode專案底下</p>

<pre><code class="language-bash">pod init
</code></pre>

<p>編輯生出來podfile<br />
加入需要的pod 專案</p>

<pre><code class="language-Podfile"># Uncomment the next line to define a global platform for your project
# platform :ios, '9.0'

target 'HelloCoCoaPods' do
  # Comment the next line if you're not using Swift and don't want to use dynamic frameworks
  use_frameworks!

  # Pods for HelloCoCoaPods
  pod 'Firebase/Database'

end
</code></pre>

<p>安裝專案</p>

<pre><code class="language-bash">pod install
</code></pre>

<h2 id="reachability-測試有無連網">Reachability 測試有無連網</h2>

<ol>
<li>下載<a href="https://developer.apple.com/library/content/samplecode/Reachability/Introduction/Intro.html">reachability</a></li>
<li>將Reachablility.h 及.m一起拖到專案，選擇新增Bridge</li>
<li>Bridege中寫入<code>#import &quot;Reachability.h&quot;</code></li>
<li>初始化<code>Reachability(hostName: &quot;www.apple.com&quot;)</code>

<ul>
<li>必須指定一個可連線的網址</li>
</ul></li>
<li>使用方法startNotifier</li>
<li>addObserver</li>
<li>接收notification</li>
</ol>

<h2 id="xml">XML</h2>

<p>解析XML XML delegate</p>

<h2 id="值得用的app">值得用的APP</h2>

<p>figure</p>

<h2 id="登入與非登入狀態用不同的controller">登入與非登入狀態用不同的Controller</h2>

<p>在Appdelegate裡面</p>

<pre><code class="language-swift">func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool {
  if check != 1 {
  	let controller = UIStoryboard(name: &quot;LogIn&quot;, bundle: nil).instantiateViewController(withIdentifier: &quot;logIn&quot;)
  	self.window?.rootViewController = controller
  } else {
  	let controller = UIStoryboard(name: &quot;Main&quot;, bundle: nil).instantiateViewController(withIdentifier: &quot;tab&quot;)
  	self.window?.rootViewController = controller
  }
	return true
}
</code></pre>

<h1 id="keyboard">keyboard</h1>

<h2 id="彈出來時畫面自動向上">彈出來時畫面自動向上</h2>

<p><a href="http://stackoverflow.com/questions/25693130/move-textfield-when-keyboard-appears-swift">http://stackoverflow.com/questions/25693130/move-textfield-when-keyboard-appears-swift</a></p>

<h2 id="點旁邊畫面自動縮回去">點旁邊畫面自動縮回去</h2>

<p><a href="http://stackoverflow.com/questions/24126678/close-ios-keyboard-by-touching-anywhere-using-swift">http://stackoverflow.com/questions/24126678/close-ios-keyboard-by-touching-anywhere-using-swift</a></p>

    </div>

    
    

    
    

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/ios/">ios</a>
          
          <a href="/tags/swift/">swift</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/2016-10-03/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Swift 不同Controller互動 與 Navigation Bar</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/2016-09-06/">
            <span class="next-text nav-default">產品開發的進展過程</span>
            <span class="prev-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'blog-vygy2ifrxm';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:cdfq152313@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://www.facebook.com/AddweupDennyCheng" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://github.com/cdfq152313" class="iconfont icon-github" title="github"></a>
  <a href="https://cdfq152313.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2015 - 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Denny Cheng</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.min.js?v=3.0.0"></script>








</body>
</html>
